<po-page-default >
<blockquote id="blockquote">Indicadores Manutenção PRIME</blockquote>

<form #f="ngForm" id="f">
  <div class="po-row">
    <po-widget class="po-md-12"  >
      <po-datepicker class="po-md-3" name="startDate" [(ngModel)]="startDate" p-clean p-format="dd/mm/yyyy" p-label="Início do Período" p-required>
      </po-datepicker>
      <po-datepicker class="po-md-3" name="endDate" [(ngModel)]="endDate" p-clean p-format="dd/mm/yyyy" p-label="Fim do Período" p-required>
      </po-datepicker>
      <po-button id="btngerar" class="po-md-6" (p-click)= "validaSessao()" [p-loading]="loadButton" p-icon="po-icon po-icon-logo-totvs" [p-label]="labelButton" p-primary="true">
      </po-button>
  </po-widget>
  </div>
</form>

<hr id="hr">

<div class="po-row" id="chart1">
  <po-widget class="po-md-12" id="wid" >
    <po-loading-overlay [hidden]="isHideLoading"></po-loading-overlay>
      <div class="po-row" id="titlebacklog">
          <h1>Backlog</h1>    
      </div>

    <div class="po-row">
      <po-widget class="po-md-6" id="wid" >
        <kendo-chart class="po-md-12" id="EntregasSlaPriv" #EntregasSla
         [categoryAxis]="{'categories' : categchart8}"
         style.height="390px;"
         type="donut"
         (seriesClick)="openModal($event, 'entSlaPriv')" [seriesColors]="['#3498db', '#7F8C8D']">
          <kendo-chart-title text="SLA Privado A.M.S"> </kendo-chart-title>
          <kendo-chart-legend position="bottom" orientation="horizontal"> </kendo-chart-legend>
          <kendo-chart-tooltip> </kendo-chart-tooltip>
          <kendo-chart-series>
          <kendo-chart-series-item *ngFor="let series of serieschart8; let outermost = last;" type="donut" [startAngle]="150" [name]="series.category" [data]="series.data"
                                   field="value" categoryField="category" colorField="color">
            <kendo-chart-series-item-labels visible="true" *ngIf="outermost" position="outsideEnd" background="none" [content]="labelContent"></kendo-chart-series-item-labels>
          </kendo-chart-series-item>
          </kendo-chart-series>
       </kendo-chart>
      </po-widget>
      <po-widget class="po-md-6" id="wid" >
        <kendo-chart class="po-md-12" id="EntregasSlaPublic" #EntregasSla
         [categoryAxis]="{'categories' : categchart9}"
         style.height="390px;"
         type="donut"
         (seriesClick)="openModal($event, 'entSlaPublic')" [seriesColors]="['#3498db', '#7F8C8D']">
          <kendo-chart-title text="SLA Público"> </kendo-chart-title>
          <kendo-chart-legend position="bottom" orientation="horizontal"> </kendo-chart-legend>
          <kendo-chart-tooltip> </kendo-chart-tooltip>
          <kendo-chart-series>
          <kendo-chart-series-item *ngFor="let series of serieschart9; let outermost = last;" type="donut" [startAngle]="150" [name]="series.category" [data]="series.data"
                                   field="value" categoryField="category" colorField="color">
            <kendo-chart-series-item-labels visible="true" *ngIf="outermost" position="outsideEnd" background="none" [content]="labelContent"></kendo-chart-series-item-labels>
          </kendo-chart-series-item>
          </kendo-chart-series>
       </kendo-chart>
      </po-widget>      
    </div>      
    
    <div class="po-row">
      <po-widget class="po-md-6" id="wid">
        <kendo-chart class="po-md-12" id="IssuesCriadas" #IssuesCriadas
          [categoryAxis]="{'categories' : categchart2}"
          style.height="390px;"
          type="column"
          (seriesClick)="openModal($event, 'criaXResolv')" [seriesColors]="['#3498db', '#8CC375']">
          <kendo-chart-title text="Issues Criados x Resolvidos"> </kendo-chart-title>
          <kendo-chart-legend position="bottom" orientation="horizontal"> </kendo-chart-legend>
          <kendo-chart-tooltip> </kendo-chart-tooltip>
          <kendo-chart-series> <kendo-chart-series-item *ngFor="let serie of serieschart2" [name]="serie.name" [type]="number" [data]="serie.data" >
          <kendo-chart-series-item-labels visible="true"> 
          </kendo-chart-series-item-labels></kendo-chart-series-item> </kendo-chart-series>
        </kendo-chart>

      </po-widget>   

      <po-widget class="po-md-6" id="wid">
        <kendo-chart class="po-md-12" id="IssuesAbertas" #IssuesAbertas
         categoryAxis=""
         style.height="390px;"
         type="column"
         (seriesClick)="openModal($event, 'abertasVersao')" [seriesColors]="['#3498db', '#8CC375', '#FF4343', '#FFB900', '#F7630C']" >
        <kendo-chart-title text="Issues Abertas - Versões"> </kendo-chart-title>
        <kendo-chart-legend position="bottom" orientation="horizontal"> </kendo-chart-legend>
        <kendo-chart-tooltip> </kendo-chart-tooltip>
        <kendo-chart-series > <kendo-chart-series-item *ngFor="let serie of serieschart4" [name]="serie.name" [type]="number" [data]="serie.data" >
        <kendo-chart-series-item-labels visible="true" > 
        </kendo-chart-series-item-labels></kendo-chart-series-item> </kendo-chart-series>
       </kendo-chart>
      </po-widget>
    </div>

    <div class="po-row">
      <po-widget class="po-md-6" id="wid" >
        <kendo-chart class="po-md-12" id="DataPrevCriados" #DataPrevCriados    
         [categoryAxis]="{'categories' : categchart6}"
         style.height="390px;"
         type="donut"
         (seriesClick)="openModal($event, 'criaXResolvDataPrev')"  [seriesColors]="['#3498db', '#8CC375']">
          <kendo-chart-title text="DataPrev - Criados x Resolvidos"> </kendo-chart-title>
          <kendo-chart-legend position="bottom" orientation="horizontal"> </kendo-chart-legend>
          <kendo-chart-tooltip> </kendo-chart-tooltip>
          <kendo-chart-series>
          <kendo-chart-series-item *ngFor="let series of serieschart6; let outermost = last;" type="donut" [startAngle]="150" [name]="series.category" [data]="series.data"
                                   field="value" categoryField="category" colorField="color">
            <kendo-chart-series-item-labels visible="true" *ngIf="outermost" position="outsideEnd" background="none" [content]="labelContent"></kendo-chart-series-item-labels>
          </kendo-chart-series-item>
          </kendo-chart-series>
       </kendo-chart>
      </po-widget>
      <po-widget class="po-md-6" id="wid">
          <kendo-chart class="po-md-12" id="EnrtregaDetalhada" #EnrtregaDetalhada  
         [categoryAxis]="{'categories' : categchart7}"
         style.height="390px;"
         type="column"
         (seriesClick)="openModal($event, 'entDetalhada')" [seriesColors]="['#3498db', '#8CC375', '#FF4343', '#FFB900']" >
          <kendo-chart-title text="Entrega Detalhada"> </kendo-chart-title>
          <kendo-chart-legend position="bottom" orientation="horizontal"> </kendo-chart-legend>
          <kendo-chart-tooltip> </kendo-chart-tooltip>
          <kendo-chart-series> <kendo-chart-series-item *ngFor="let serie of serieschart7" [name]="serie.name" [type]="number" [data]="serie.data">
          <kendo-chart-series-item-labels visible="true"> 
          </kendo-chart-series-item-labels></kendo-chart-series-item> </kendo-chart-series>
       </kendo-chart>
        </po-widget>
    </div>

    <div class="po-row">
      <po-widget class="po-md-12" id="wid">
        <kendo-chart class="po-md-12"
         style.height="390px;"
         type="column"
         [seriesColors]="['#3498db', '#8CC375', '#FF4343', '#FFB900', '#F7630C', '#1ABC9C', '#9B59B6', '#34495E', '#7F8C8D', '#C0392B']"
         >
          <kendo-chart-title text="Manutenções por Projeto"> </kendo-chart-title>
          <kendo-chart-legend position="bottom" orientation="horizontal"> </kendo-chart-legend>
          <kendo-chart-tooltip> </kendo-chart-tooltip>
          <kendo-chart-series> <kendo-chart-series-item *ngFor="let serie of serieschart5" [name]="serie.name" [type]="number" [data]="serie.data">
          <kendo-chart-series-item-labels visible="true"> 
          </kendo-chart-series-item-labels></kendo-chart-series-item> </kendo-chart-series>
        </kendo-chart>
      </po-widget>    
    </div>
  
  </po-widget>    
</div>


<po-modal
p-title="Issues"
p-size="xl"
[p-primary-action]="primaryAction">

<div class="po-row">
  <kendo-grid
  [data]="itemsGrid"
  >
  <ng-template kendoGridToolbarTemplate> <button kendoGridExcelCommand><span class="k-icon k-i-file-excel"></span></button> <button kendoGridPDFCommand><span class='k-icon k-i-file-pdf'></span></button> </ng-template>
    <kendo-grid-column *ngFor="let col of columnsGrid" [field]="col.column" [title]="col.label" [width]="col.width"></kendo-grid-column>
    <kendo-grid-excel fileName="spreadsheet.xlsx" [fetchData]="allData"></kendo-grid-excel> <kendo-grid-pdf fileName="grid.pdf" allPages="true"> <kendo-grid-pdf-margin top="1cm" left="1cm" right="1cm" bottom="1cm"></kendo-grid-pdf-margin> </kendo-grid-pdf>        
</kendo-grid>      
</div>
</po-modal>

</po-page-default>